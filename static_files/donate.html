<!-- Page functionality: Donation form for users simulating donation for a specific natural hazartd. Data is stored in Firebase -->

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Donate Form</title>

    <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAHB710JuOkhzIgMuJpgH7IGlF_VWgg-lo",
            authDomain: "releaf-mile4.firebaseapp.com",
            databaseURL: "https://releaf-mile4.firebaseio.com",
            projectId: "releaf-mile4",
            storageBucket: "releaf-mile4.appspot.com",
            messagingSenderId: "923779504835",
            appId: "1:923779504835:web:cecb51e44991cf46"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Reference to variable messages holding data of all values in Firebase
        var messagesRef = firebase.database().ref('messages');
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">


    <script type="text/javascript">
        $(document).ready(function () {
            const database = firebase.database();

            document.getElementById('donateForm').addEventListener('submit', submitForm);

            //Submit form event handler
            function submitForm(e) {
                e.preventDefault();

                //Get values and post to Firebase
                database.ref('messages').set({

                    firstname: $('#inputFirstName').val(),
                    lastname: $('#inputLastName').val(),
                    email: $('#inputEmail').val(),
                    address1: $('#inputAddress').val(),
                    address2: $('#inputAddress2').val(),
                    donation: $('#inputDonation').val(),
                    city: $('#inputCity').val(),
                    state: $('#inputState').val(),
                    zip: $('#inputZip').val(),
                    country: $('#inputCountry').val(),
                });
            };
        })

    </script>


    <form id="donateForm">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="inputFirst">First Name</label>
                <input type="text" class="form-control" id="inputFirstName" placeholder="First Name">
            </div>
            <div class="form-group col-md-6">
                <label for="inputLast">Last Name</label>
                <input type="text" class="form-control" id="inputLastName" placeholder="Last Name">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="inputEmail">Email</label>
                <input type="email" class="form-control" id="inputEmail" placeholder="Email">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="inputAddress">Address</label>
                <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
            </div>
            <div class="form-group col-md-6">
                <label for="inputAddress2">Address 2</label>
                <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="inputDonation">Donation ($)</label>
                <input type="number" class="form-control" id="inputDonation" placeholder="Amount in dollars" min="0">
            </div>

        </div>

        <div class="form-row">
            <div class="form-group col-md-3">
                <label for="inputCity">City</label>
                <input type="text" class="form-control" id="inputCity">
            </div>
            <div class="form-group col-md-3">
                <label for="inputState">State</label>
                <input type="text" class="form-control" id="inputState">
            </div>
            <div class="form-group col-md-3">
                <label for="inputZip">Zip</label>
                <input type="text" class="form-control" id="inputZip">
            </div>
            <div class="form-group col-md-3">
                <label for="inputCountry">Country</label>
                <input type="text" class="form-control" id="inputCountry">
            </div>
        </div>
        <button id="donateBut" type="submit" class="btn btn-primary">Donate</button>
    </form>

    </body>

</html>